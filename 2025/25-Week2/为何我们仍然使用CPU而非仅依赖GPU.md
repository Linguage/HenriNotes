为何我们仍然使用CPU而非仅依赖GPU？
- 原文标题：If GPUs Are So Good, Why Do We Still Use CPUs At All?
- 链接：https://codingstuff.substack.com/p/if-gpus-are-so-good-why-do-we-still 

- **文章类别**：博客文章

---

## 内容整理

本文是一篇探讨CPU与GPU各自优势及应用场景的博客文章。文章首先通过一段视频引出CPU与GPU在处理任务速度上的差异，随后深入分析了两者在不同类型程序处理上的特点，以及现代芯片如何融合两者优势。

### CPU与GPU的性能对比
文章提到，当我们说GPU比CPU性能更强时，通常是指其TFLOPS（每秒万亿次浮点运算）指标。例如，Nvidia A100 GPU可达到9.7 TFLOPS，而英特尔24核处理器仅0.33 TFLOPS，GPU速度至少是CPU的30倍。但作者指出，实际情况并非如此简单，因为不同类型程序对处理器的要求不同。

### 程序类型与处理器适配性
文章将程序分为两类：顺序程序和并行程序。

- **顺序程序**：指令需依次执行，如计算斐波那契数列，每一步都依赖前两步的结果，无法分割任务并行计算。
- **并行程序**：多条指令可同时执行，因它们相互独立，如对一个数字列表进行乘以2的操作，各计算互不影响，可分配给不同处理器同时进行。

文章强调，现实中的大型应用通常包含顺序和并行代码的混合。例如一个包含20次计算的程序，前10次为顺序计算斐波那契数，后10次可并行计算，该程序可视为“50%可并行化”。

### CPU与GPU的架构差异
- **CPU**：拥有少量的大核心（如苹果M3的8核CPU），擅长顺序程序处理，可进行复杂决策和灵活的任务切换，就像餐厅的大厨能即时应对各种突发情况，保持系统稳定运行。
- **GPU**：拥有众多小核心（如Nvidia H100 GPU的数千核心），适合运行高度并行的程序，能同时对不同数据执行相同操作，如视频游戏图形渲染，需快速重新计算大量像素点的颜色值，这些计算相互独立，可分配给GPU的众多核心同时处理。

### CPU的独特优势
尽管GPU在并行任务上表现出色，但CPU在处理复杂逻辑和适应变化条件上不可或缺。现代计算机需应对各种不可预测事件，如应用程序的启动和停止、网络连接的中断、文件访问以及用户的随机操作等。CPU能轻松切换任务，确保系统响应性，合理分配系统资源，保证每个应用程序得到适当关注。因此，像苹果M3这样的现代芯片将CPU的灵活性与GPU的计算能力相结合，以满足不同需求。

### 结论
文章最后指出，一个更准确的比喻是CPU负责管理图像下载和内存分配，然后让GPU快速渲染像素。这表明，尽管GPU在特定领域有巨大优势，但CPU在现代计算机中仍有其不可替代的作用。

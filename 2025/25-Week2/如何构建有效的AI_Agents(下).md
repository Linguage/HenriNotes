如何构建有效的AI Agents：化繁为简——深度解读Claude实践《Building effective agents》(下)
- 原文标题：如何构建有效的AIAgents：化繁为简——深度解读Claude实践《Building effective agents》(下)
- 链接：[https://mp.weixin.qq.com/s/OlFAD6LtB4ohIdI9fohTYA](https://mp.weixin.qq.com/s/OlFAD6LtB4ohIdI9fohTYA)

- **文章类别**：博客 

---
**内容整理**： 

```markdown
├── 引言
│   ├── 文章目的：探讨Anthropic团队在AI代理系统设计中的实践经验，特别是在保持系统简约的同时确保其效能，以及平衡自主性与可控性。
│   ├── 简约性的重要性：挑战行业常规认知，提供新的系统设计视角。
├── 增强型LLM：代理系统的基石
│   ├── 定义：集成了检索、工具调用和记忆等多重能力的综合系统。
│   ├── 主动性：现代LLM能够主动生成搜索查询、选择合适工具、判断保留关键信息。
│   ├── 实现关键点
│   │   ├── 针对具体用例定制增强能力。
│   │   └── 提供简单、文档完备的接口。
│   └── Model Context Protocol：允许开发者集成第三方工具生态系统。
├── 工作流模式的艺术
│   ├── 提示链工作流
│   │   ├── 任务分解：将任务分解为一系列步骤，每个LLM调用处理前一个调用的输出。
│   │   ├── 程序化检查：在中间步骤添加检查点，确保流程正确。
│   │   └── 适用场景：可清晰分解为固定子任务的情况。
│   ├── 路由工作流
│   │   ├── 输入分类：对输入进行智能分类，导向专门处理流程。
│   │   ├── 适用场景：有明显不同类别、需分开处理的复杂任务。
│   │   └── 实用示例：客服查询分类、任务复杂度分类。
│   ├── 并行化工作流
│   │   ├── 任务分段：将任务拆分为并行运行的独立子任务。
│   │   ├── 投票机制：多次运行相同任务以获得多样化输出。
│   │   └── 适用场景：可并行化提高速度或需高置信度结果的任务。
│   └── 编排者-执行者工作流
│       ├── 动态任务分配：中央LLM动态分解任务，分配给执行者LLM。
│       ├── 适用场景：无法预测所需子任务的复杂任务。
│       └── 实用示例：多文件代码修改、跨领域分析任务。
├── 评估者-优化者工作流：迭代提升的智慧
│   ├── 反馈循环：一个LLM生成响应，另一个提供评估和反馈。
│   ├── 适用场景：有明确评估标准且迭代优化能带来可衡量价值的任务。
│   └── 实用示例：文学翻译、复杂搜索任务。
├── 自主代理：走向真正的AI智能
│   ├── 自主代理的本质
│   │   ├── LLM核心能力成熟，代理系统逐渐兴起。
│   │   ├── 通过与环境交互获取“基础事实”，独立规划和运行。
│   │   └── 典型应用：SWE-bench任务解决、计算机使用任务。
│   └── 自主代理的实现细节和最佳实践
│       ├── 关键节点
│       │   ├── 任务理解和规划。
│       │   ├── 控制点设置：验证执行进度和结果。
│       │   ├── 工具调用：确保工具使用的可靠性。
│       │   └── 人工干预：预设干预条件和机制。
│       └── 代码实现示例：展示自主代理的核心组件。
├── 合理使用自主代理的时机
│   ├── 适用场景：难以预测步骤数量的开放性问题，无法硬编码固定路径的场景。
│   ├── 成本与安全：使用自主代理意味着更高的成本和错误累积的可能性，需在沙盒环境中测试并配备安全防护措施。
│   └── 实践案例分析：代码编写与计算机使用，展示双层循环架构的智能与稳健。
├── 构建之道：从模式到实践
│   ├── 工作流模式和构建模块的灵活性：根据具体用例塑造和组合。
│   ├── 复杂性的权衡：只有当增加复杂性能带来明显性能提升时，才应增加复杂性。
│   └── 性能衡量与迭代优化的重要性。
└── 总结与展望
    ├── 回归本质：简约性的胜利，从简单提示开始，逐步优化。
    ├── 未来发展：AI代理系统的新篇章，遵循简洁性、透明性和精心设计人机交互接口的原则。
    ├── 附录1：代理的实践应用，展示AI Agents在客户支持和代码开发领域的成功应用。
    └── 附录2：工具的提示工程，强调工具定义的提示工程与整体提示工程同等重要，提出ACI概念及实践建议。
```